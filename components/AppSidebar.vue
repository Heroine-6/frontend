<template>
  <div>
    <div v-if="open" class="overlay" @click="$emit('close')"></div>

    <aside class="app-sidebar" :class="{ open: open }">
      <div class="sidebar-header">
        <span class="sidebar-title">ë©”ë‰´</span>
        <button class="close-btn" @click="$emit('close')">âœ•</button>
      </div>

      <nav class="sidebar-nav">
        <a href="/search" class="sidebar-link" @click="$emit('close')">
          ğŸ” ë§¤ë¬¼ ê²€ìƒ‰
        </a>

        <a href="/market-prices" class="sidebar-link" @click="$emit('close')">
          ğŸ“Š ì£¼ë³€ ì‹œì„¸
        </a>

        <a
            v-if="isLoggedIn"
            href="/mypage"
            class="sidebar-link"
            @click="$emit('close')"
        >
          ğŸ‘¤ ë§ˆì´í˜ì´ì§€
        </a>
      </nav>

      <div class="sidebar-divider"></div>

      <div class="sidebar-user-area">
        <div v-if="isLoggedIn" class="sidebar-user">
          ğŸ™‹ {{ userName }}ë‹˜
        </div>

        <button
            v-if="isLoggedIn"
            class="sidebar-logout"
            @click="$emit('logout')"
        >
          ğŸšª ë¡œê·¸ì•„ì›ƒ
        </button>

        <template v-else>
          <div class="sidebar-auth">
            <a href="/signin" class="sidebar-link">ğŸ”‘ ë¡œê·¸ì¸</a>
            <a href="/signup" class="sidebar-link">âœ¨ íšŒì›ê°€ì…</a>
          </div>
        </template>
      </div>
    </aside>
  </div>
</template>

<script setup>
defineProps({
  open: Boolean,
  isLoggedIn: Boolean,
  userName: String
})
defineEmits(['close', 'logout'])
</script>
